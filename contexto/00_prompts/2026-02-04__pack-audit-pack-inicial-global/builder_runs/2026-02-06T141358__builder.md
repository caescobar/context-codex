# Builder Run - 2026-02-06T141358

Fecha: 2026-02-06T141358
PackDir: contexto/00_prompts/2026-02-04__pack-audit-pack-inicial-global/

## Input original
Usar PackDir existente: contexto/00_prompts/2026-02-04__pack-audit-pack-inicial-global/
Fuente obligatoria: contexto/01_audits/2026-02-06__audit-04__frontend-http-axios-core-contrato-errores.md
Quiero generar el PROMPT FINAL para ejecutar PHASE-02 basada en la sección “Plan sugerido por fases”, Fase 2.
Usa exactamente el objetivo/archivos/verificación definidos ahí, sin ampliar alcance.

## Clasificacion
PHASE

## Rationale
- Se solicita un PROMPT FINAL para ejecutar una fase concreta (Fase 2) con objetivo definido.
- El alcance esta acotado a 5 archivos de codigo, cumpliendo el limite de PHASE.

## PROMPT FINAL
```txt
# PHASE PROMPT - phase-02__frontend-http-axios-core-contrato-errores-fase-2

PackDir: contexto/00_prompts/2026-02-04__pack-audit-pack-inicial-global/
ItemId: PHASE-02
IndexRef: contexto/00_prompts/2026-02-04__pack-audit-pack-inicial-global/INDEX.md
PromptPath: contexto/00_prompts/2026-02-04__pack-audit-pack-inicial-global/phases/phase-02__frontend-http-axios-core-contrato-errores-fase-2__PHASE__PROMPT.md

Modo: refactor-safe + change-control
Skills: telemetric-frontend-style

Objetivo
- Migrar servicios principales y telemetry history a axios core.

Alcance (max 5 archivos de codigo)
- telemetric-front/src/services/organization.service.ts
- telemetric-front/src/features/telemetry/telemetry.service.ts
- telemetric-front/src/features/admin/devices/device.service.ts
- telemetric-front/src/features/admin/security/security.service.ts
- telemetric-front/src/features/admin/units/unit.service.ts

Entregables
- contexto/02_changes/2026-02-06__phase-02__frontend-http-axios-core-contrato-errores-fase-2__plan.md (usar contexto/01_overview/templates/TEMPLATE_CHANGE_PLAN.md)
- contexto/02_changes/2026-02-06__phase-02__frontend-http-axios-core-contrato-errores-fase-2__summary.md (usar contexto/01_overview/templates/TEMPLATE_CHANGE_SUMMARY.md)
- Actualizar contexto/03_hallazgos/pending.md solo si hay hallazgos nuevos o cambio de estado

Guardrails
- Maximo 5 archivos: solo los listados en Alcance
- No ampliar alcance
- Prohibido cambiar contratos externos (Redis key patterns, Rabbit routing keys, SignalR group naming) sin migracion explicita
- Si algun path no existe: buscar y confirmar el path real antes de continuar

No-go rules
- Si requiere tocar archivos fuera del Alcance o superar 5 archivos
- Si implica cambiar contratos externos sin migracion explicita
- Si no se puede cumplir la verificacion

Tarea (ejecutor)
1) Ejecutar cambios minimos para migrar los servicios del Alcance a axios core y al contrato de error unificado.
2) Completar plan + summary usando templates (con evidencia paths).
3) En summary: resultado observado vs expected para cada paso de verificacion + Done criteria.

Verificacion (pasos manuales)
1) Accion: API_CALL: listar organizations con un usuario valido. Expected: la llamada usa axios core y los errores 401/403 siguen el contrato unificado.
2) Accion: API_CALL: ejecutar telemetry history y forzar un 500. Expected: el error se reporta con el contrato unificado (sin devolver [] silencioso).
3) Accion: API_CALL: acceder a listados de admin devices/units/security con permisos insuficientes. Expected: el manejo 401/403 es consistente con el contrato unificado.

Done criteria
- Los servicios del Alcance usan axios core y no fetch/fetchWrapper.
- Telemetry history no silencia errores y reporta el contrato unificado.
- La verificacion manual coincide con Expected en todos los pasos.

Post-step obligatorio
- Marcar [x] PHASE-02 en IndexRef
- Completar/actualizar links de Output (plan y summary) en el indice
```
